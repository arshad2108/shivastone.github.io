<!DOCTYPE html>
<html>
	<head>
		<title>Registration Page</title>
		<link rel="stylesheet" type="text/css" href="css/bootstrap.css" />
		<script>
			
			function mySubmit() {

					var str1 = document.getElementById("bookname").value;
					var str2 = document.getElementById("authorname").value;
					var str3 = document.getElementById("date").value;
					var str4 = document.getElementById("month").value;
					var str5 = document.getElementById("year").value;
					
					if (str1=='' || str2=='' || str3=='' || str4=='' || str5==''){
						alert("Please fill all the details");

					}
					else{

						document.getElementById("txtHint2").innerHTML = "BookName = "+str1+" <br>AuthorName = "+str2+" <br>Date = "+str3+" <br>Month = "+str4+" <br>Year= "+str5;
					
					var xmlhttp = new XMLHttpRequest();
					xmlhttp.onreadystatechange = function() {
						if (this.readyState == 4 && this.status == 200) {
							document.getElementById("txtHint3").innerHTML = this.responseText;
						}
					};
					xmlhttp.open("GET","connect.php?bookname="+str1+"&authorname="+str2+"&date="+str3+"&month="+str4+"&year="+str5,true);
					xmlhttp.send();
				}
					
				return;
			}
			function showOptions(str){
				if(str==""){
					document.getElementById("txtHint").innerHTML = "select an option";
					document.getElementById("datelabel").style.display="none";
						document.getElementById("checkdate").style.display="none";
						document.getElementById("monthlabel").style.display="none";
						document.getElementById("checkmonth").style.display="none";
						document.getElementById("yearlabel").style.display="none";
						document.getElementById("checkyear").style.display="none";
				}
				else{
					if (str=="date"){
						document.getElementById("datelabel").style.display="block";
						document.getElementById("checkdate").style.display="block";
						document.getElementById("monthlabel").style.display="block";
						document.getElementById("checkmonth").style.display="block";
						document.getElementById("yearlabel").style.display="block";
						document.getElementById("checkyear").style.display="block";


					}
					if (str=="month"){
						document.getElementById("datelabel").style.display="none";
						document.getElementById("checkdate").style.display="none";
						document.getElementById("monthlabel").style.display="block";
						document.getElementById("checkmonth").style.display="block";
						document.getElementById("yearlabel").style.display="block";
						document.getElementById("checkyear").style.display="block";

					}
					if (str=="year"){
						document.getElementById("datelabel").style.display="none";
						document.getElementById("checkdate").style.display="none";
						document.getElementById("monthlabel").style.display="none";
						document.getElementById("checkmonth").style.display="none";
						document.getElementById("yearlabel").style.display="block";
						document.getElementById("checkyear").style.display="block";

					}
				}
				return;

			}
			function showme() {
				var interval = document.getElementById("interval").value;
				var date = document.getElementById("checkdate").value;
					var month = document.getElementById("checkmonth").value;
					var year = document.getElementById("checkyear").value;
					
					if(interval=="year"){
						if (year == "") {
							document.getElementById("txtHint1").innerHTML = "<b>Type the required info </b><br>";
							return;
						} else {
							document.getElementById("txtHint1").innerHTML = "<b>Here are the results... </b><br>";
							var xmlhttp = new XMLHttpRequest();
							xmlhttp.onreadystatechange = function() {
								if (this.readyState == 4 && this.status == 200) {
									document.getElementById("txtHint5").innerHTML = this.responseText;
								}
							};
							xmlhttp.open("GET","getinfo.php?interval="+interval+"&year="+year,true);
							xmlhttp.send();
						}
					}
					

					else if(interval=="date"){
						if (date == "" || month == "" || year == "") {
							document.getElementById("txtHint1").innerHTML = "<b>Type the required info </b><br>";
							return;
						} else {
							document.getElementById("txtHint1").innerHTML = "<b>Here are the results... </b><br>";
							var xmlhttp = new XMLHttpRequest();
							xmlhttp.onreadystatechange = function() {
								if (this.readyState == 4 && this.status == 200) {
									document.getElementById("txtHint5").innerHTML = this.responseText;
								}
							};
							xmlhttp.open("GET","getinfo.php?interval="+interval+"&date="+date+"&month="+month+"&year="+year,true);
							xmlhttp.send();
						}
					}
					
					else if(interval=="month"){
						if (month == "" || year == "") {
							document.getElementById("txtHint1").innerHTML = "<b>Type the required info </b><br>";
							return;
						} else {
							document.getElementById("txtHint1").innerHTML = "<b>Here are the results... </b><br>";
							var xmlhttp = new XMLHttpRequest();
							xmlhttp.onreadystatechange = function() {
								if (this.readyState == 4 && this.status == 200) {
									document.getElementById("txtHint5").innerHTML = this.responseText;
								}
							};
							xmlhttp.open("GET","getinfo.php?interval="+interval+"&month="+month+"&year="+year,true);
							xmlhttp.send();
						}
					}

					else{
						document.getElementById("txtHint1").innerHTML = "<b>Type the required info </b><br>";

					}
				 
					
					return;
			}
	</script>
		
	</head>
	<body>
		<h1>SHIVA STONE</h1>
		<!--
		<div class="container">
			<div class="row col-md-6 col-md-offset-3">
				<div class="panel panel-primary">
					<div class="panel-heading text-center">
						<h1>Add a Book in the database</h1>
					</div>
					<div class="panel-body">
						<form id="sub">
							<div class="form-group">
								<label for="bookname">Book Name</label>
								<input
									type="text"
									class="form-control"
									id="bookname"
									name="bookname"
								/>
							</div>
							<div class="form-group">
								<label for="authorname">Author Name</label>
								<input
									type="text"
									class="form-control"
									id="authorname"
									name="authorname"
								/>
							</div>
						 
							
							<div class="form-group">
								<label for="date">Date</label>
								<input
									type="number"
									class="form-control"
									id="date"
									name="date"
								/>
							</div>
							<div class="form-group">
								<label for="month">Month</label>
								<input
									type="number"
									class="form-control"
									id="month"
									name="month"
								/>
							</div>
							<div class="form-group">
								<label for="year">Year</label>
								<input
									type="number"
									class="form-control"
									id="year"
									name="year"
								/>
							</div>
							<input id="buttoninsert" type="button" onclick="mySubmit()"  value="Submit" class="btn btn-primary" />
							<div id="txtHint2"><b>see the book info you tried to fill </b></div>
							<div id="txtHint3"></div>
						</form>
					</div>
					<div class="panel-footer text-right">
						
					</div>
				</div>
			</div>
		</div>
		<br>
		<p>
		<div class="toast" role="alert" aria-live="assertive" aria-atomic="true">
			<div class="container">
							<div class="row col-md-6 col-md-offset-3">
				<div class="panel panel-primary">
					<div class="panel-heading text-center">
						<h1>Check the top 10 books</h1>
					</div>
					<div class="panel-body">
	
	<form id="view">
		<div class="form-group">
		<label for="interval"> Select type of interval</label>
		<br>
<select  onchange="showOptions(this.value)" id="interval" >
	<option value="">Select time interval:</option>
	<option value="date">date</option>
	<option value="month">month</option>
	<option value="year">year</option>
	</select>
</div>
	<div class="form-group">
	<label id="datelabel" for="date" style="display:none">date</label>
	<input type="number" class="form-control" id="checkdate" name="date" style="display:none"/>
</div>
							
<div class="form-group">
								<label id="monthlabel" for="month" style="display:none">month</label>
								<input
									type="number"
									class="form-control"
									id="checkmonth"
									name="month"
									style="display:none"
								/>
</div>
<div class="form-group">
							
								<label id="yearlabel" for="year" style="display:none">year</label>
								<input
									type="number"
									class="form-control"
									id="checkyear"
									name="year"
									style="display:none"
								/>
</div>
					<input type="button" id="buttonview" onclick="showme()"  value="View" class="btn btn-primary" />    
</form>
<br>
<div id="txtHint1"><b></b></div>
<div class="panel-heading text-center" id="txtHint"><b><h2>Book info will be listed below here...</b></h2></div>
</div>
<div id="txtHint5"></div>
</div>
</div>
</div>


</div>
</p>
-->
	</body>
</html>
